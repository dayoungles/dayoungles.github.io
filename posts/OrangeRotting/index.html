<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Rotting Oranges" /><meta property="og:locale" content="en" /><meta name="description" content="풀어내는데 1주일 정도 걸린 문제다. 풀다가 지쳐서 포스팅을 미뤘던지라 뒤늦게 포스팅을 하게 되었다. 자세한 문제 내용은 리트코드에서 참조하면 좋겠다. 기억을 위해 간단히 설명하자면 2*2 배열에 0(빈칸), 1(신선한 오렌지), 2(썩은 오렌지ㅠㅠ)를 넣어서 표기하고 1분이 지날 때마다 썩은 오렌지의 상하좌우에 위치한 신선한 오렌지가 썩은 오렌지로 변하는 것이고 배열 안에 있는 오렌지가 모두 썩은 오렌지가 되는데 걸리는 시간을 리턴하거나, 만약 시간이 지나도 썩지 않는 위치에 오렌지가 남아있을 경우 -1 을 리턴하는 것이다." /><meta property="og:description" content="풀어내는데 1주일 정도 걸린 문제다. 풀다가 지쳐서 포스팅을 미뤘던지라 뒤늦게 포스팅을 하게 되었다. 자세한 문제 내용은 리트코드에서 참조하면 좋겠다. 기억을 위해 간단히 설명하자면 2*2 배열에 0(빈칸), 1(신선한 오렌지), 2(썩은 오렌지ㅠㅠ)를 넣어서 표기하고 1분이 지날 때마다 썩은 오렌지의 상하좌우에 위치한 신선한 오렌지가 썩은 오렌지로 변하는 것이고 배열 안에 있는 오렌지가 모두 썩은 오렌지가 되는데 걸리는 시간을 리턴하거나, 만약 시간이 지나도 썩지 않는 위치에 오렌지가 남아있을 경우 -1 을 리턴하는 것이다." /><link rel="canonical" href="https://dayoungles.github.io/posts/OrangeRotting/" /><meta property="og:url" content="https://dayoungles.github.io/posts/OrangeRotting/" /><meta property="og:site_name" content="Dayoungle" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-04-04T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Rotting Oranges" /> <script type="application/ld+json"> {"description":"풀어내는데 1주일 정도 걸린 문제다. 풀다가 지쳐서 포스팅을 미뤘던지라 뒤늦게 포스팅을 하게 되었다. 자세한 문제 내용은 리트코드에서 참조하면 좋겠다. 기억을 위해 간단히 설명하자면 2*2 배열에 0(빈칸), 1(신선한 오렌지), 2(썩은 오렌지ㅠㅠ)를 넣어서 표기하고 1분이 지날 때마다 썩은 오렌지의 상하좌우에 위치한 신선한 오렌지가 썩은 오렌지로 변하는 것이고 배열 안에 있는 오렌지가 모두 썩은 오렌지가 되는데 걸리는 시간을 리턴하거나, 만약 시간이 지나도 썩지 않는 위치에 오렌지가 남아있을 경우 -1 을 리턴하는 것이다.","url":"https://dayoungles.github.io/posts/OrangeRotting/","headline":"Rotting Oranges","@type":"BlogPosting","dateModified":"2020-04-04T00:00:00+09:00","datePublished":"2020-04-04T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://dayoungles.github.io/posts/OrangeRotting/"},"@context":"https://schema.org"}</script><title>Rotting Oranges | Dayoungle</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Dayoungle"><meta name="application-name" content="Dayoungle"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/3899126?s=400&u=a01345517277705f9e6506e1e97890d3b275b72a&v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Dayoungle</a></div><div class="site-subtitle font-italic">Builder, Developer, Writer, Reader, Dancer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/dayoungles" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['dayoungles','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Rotting Oranges</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Rotting Oranges</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Dayoungle </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Apr 4, 2020, 12:00 AM +0900" >Apr 4, 2020<i class="unloaded">2020-04-04T00:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1635 words">9 min read</span></div></div><div class="post-content"><p>풀어내는데 1주일 정도 걸린 문제다. 풀다가 지쳐서 포스팅을 미뤘던지라 뒤늦게 포스팅을 하게 되었다. 자세한 문제 내용은 리트코드에서 참조하면 좋겠다. 기억을 위해 간단히 설명하자면 2*2 배열에 0(빈칸), 1(신선한 오렌지), 2(썩은 오렌지ㅠㅠ)를 넣어서 표기하고 1분이 지날 때마다 썩은 오렌지의 상하좌우에 위치한 신선한 오렌지가 썩은 오렌지로 변하는 것이고 배열 안에 있는 오렌지가 모두 썩은 오렌지가 되는데 걸리는 시간을 리턴하거나, 만약 시간이 지나도 썩지 않는 위치에 오렌지가 남아있을 경우 -1 을 리턴하는 것이다.</p><p><strong>[References]</strong></p><p><a href="https://leetcode.com/problems/rotting-oranges/">Leet code problems</a></p><p><img data-proofer-ignore data-src="/images/resource/OrangesRotten.png" alt="" /></p><p>처음 문제를 봤을 때 내부에 오렌지의 위치, 썩음 여부, 썩은 시점을 기록하는 이너 클래스를 만들려고 했다. 작업 도중 그렇게 만들어도 도대체 몇번의 포문을 돌아야 할지, 더 나은 방법이 없을지 고민하게 됐다. 이렇게 무식하게 할리가 없다! 라고 확신을 가지고 다른 방법을 찾는데 이틀 정도 썼고…답답해져서 답을 봤는데 이해가 잘 되지 않아서 시간을 더 썼고, 다음날은 그냥 베꼈는데 에러가 발생해서 뻗었고, 마지막날은 두가지 방법으로 문제풀이를 만들었다. 오늘은 이너클래스 방식으로 정보를 관리하는 방법, 배열 내에 썩은 시점을 숫자로 기록해서 처리하는 방법(답 봄), 큐를 사용하는 방법 총 세 가지를 모두 다 기록해보려고 했는데, 지금보니 이너클래스 버전 소스가 없당…빡쳐서 밀어버렸나봉가…빡치기 전에 답을 한번 봤으면 괜찮았을텐데..아쉽</p><ol><li>배열 내에 숫자로 썩은 시점을 기록하는 방법 아래 코드에서 보면 결국 삼중포문을 돌아버린다. 삼중 포문 전에 있는 첫번째 이중 포문에서는 주어진 배열 두개를 돌면서 신선한 오렌지인지 여부를 확인한다. 그 다음에는 Fresh Orange numbers 를 가장 외부의 포문에서 체크하고 round(걸린 시간)을 추가한다. 동작은 하지만 For문의 조건에 이렇게 많은 정보를 넣는게 가독성에 좋지 않다고 생각한다. while로 잘 처리할 수 있지 않았을까. 내부의 이중 포문은 다시 주어진 배열을 돌면서 썩은 오렌지를 발견하면 rot 메서드에 보내서 상하좌우를 확인하는데 문제를 단순화 한다는 관점에서 좋게 생각했다. 내가 작성할 때는 저 위치에 if문을 각각 걸어서 배열의 인덱스를 넘어서진 않는지 확인해야 했기 때문이다.</ol><p>rot 은 그런 점에서 or 조건 한방으로 인덱스의 길이를 넘어서진 않는지? 혹은 -1위치를 가리키지는 않는지? 등을 모두 확인해버려서 좀 더 깔끔해지긴 한다.</p><div lang="java" class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre>    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">orangesRotting</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">grid</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">round</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">fresh</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">grid</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">grid</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span><span class="o">(</span><span class="n">grid</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span>
                    <span class="n">fresh</span><span class="o">++;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">oldFresh</span><span class="o">=</span> <span class="n">fresh</span><span class="o">;</span> <span class="n">oldFresh</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">;</span> <span class="n">round</span><span class="o">++,</span> <span class="n">oldFresh</span><span class="o">=</span><span class="n">fresh</span><span class="o">){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span> <span class="n">grid</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++){</span>
                <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span> <span class="n">grid</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++){</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">grid</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="n">round</span><span class="o">+</span><span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">fresh</span> <span class="o">-=</span> <span class="n">rot</span><span class="o">(</span><span class="n">grid</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">j</span><span class="o">,</span> <span class="n">round</span><span class="o">)</span> <span class="o">+</span>
                                <span class="n">rot</span><span class="o">(</span><span class="n">grid</span><span class="o">,</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">j</span><span class="o">,</span> <span class="n">round</span><span class="o">)</span> <span class="o">+</span>
                                <span class="n">rot</span><span class="o">(</span><span class="n">grid</span><span class="o">,</span> <span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">round</span><span class="o">)</span> <span class="o">+</span>
                                <span class="n">rot</span><span class="o">(</span><span class="n">grid</span><span class="o">,</span> <span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">round</span><span class="o">);</span>

                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="k">if</span><span class="o">(</span><span class="n">fresh</span> <span class="o">==</span> <span class="n">oldFresh</span><span class="o">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">round</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">rot</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">grid</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j</span><span class="o">,</span> <span class="kt">int</span> <span class="n">day</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">0</span> <span class="o">||</span> <span class="n">j</span><span class="o">&lt;</span><span class="mi">0</span> <span class="o">||</span> <span class="n">i</span><span class="o">&gt;=</span><span class="n">grid</span><span class="o">.</span><span class="na">length</span> <span class="o">||</span> <span class="n">j</span><span class="o">&gt;=</span><span class="n">grid</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">length</span> <span class="o">||</span> <span class="n">grid</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">!=</span> <span class="mi">1</span><span class="o">)</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="n">grid</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">day</span> <span class="o">+</span> <span class="mi">3</span><span class="o">;</span>
        <span class="k">return</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
</pre></table></code></div></div><p><strong>Space complexity</strong></p><p>O(n): 원래 배열만 사용</p><p><strong>Time complexity</strong></p><p>O(n^3): 삼중포문..맞는거지? 전체 배열이 모두 다 신선한 오렌지일 수 있기 때문에 최악의 경우에는 삼중 포문을 아주 꽉꽉(꽉꽉 이래도 아마 n보다 작은 상수겠지만 )돌아야 할 수도 있다는 것.</p><ol><li>Queue를 활용한 것 마찬가지로 첫번째 포문은 전체 배열을 순회하면서 썩은 오렌지가 있으면 썩은 오렌지의 위치와 썩은 시점을 Pair객체로 집어넣는 것이다. 그리고 while문을 돌면서(도는 횟수를 ++시켜서 최종 값이 다 썩는데 걸린 시간) 썩은 오렌지가 빌 때까지 queue를 비운다. 그리고 그 썩은 오렌지의 상하좌우에 신선오렌지가 있는지 확인하고, 있다면 그 오렌지도 썩은 오렌지로 표기해서 큐에 넣는다. 큐가 다 비었는데 아직 안 썩은 오렌지의 개수가 남아있다면? -1을 리턴하면 된다.</ol><div lang="java" class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">orangesRottingWithQueue</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">grid</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Queue</span><span class="o">&lt;</span><span class="nc">Pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[],</span> <span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">q</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
        <span class="kt">int</span> <span class="n">fresh</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">round</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">grid</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">grid</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">orange</span> <span class="o">=</span> <span class="n">grid</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">];</span>
                <span class="k">if</span><span class="o">(</span><span class="n">orange</span> <span class="o">==</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">q</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Pair</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">},</span> <span class="mi">0</span><span class="o">));</span>
                <span class="o">}</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">orange</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">fresh</span><span class="o">++;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">while</span><span class="o">(!</span><span class="n">q</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">Pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">[],</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">getKey</span><span class="o">()[</span><span class="mi">0</span><span class="o">];</span>
            <span class="kt">int</span> <span class="n">col</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">getKey</span><span class="o">()[</span><span class="mi">1</span><span class="o">];</span>
            <span class="kt">int</span> <span class="n">rottenRound</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>

            <span class="n">round</span> <span class="o">=</span> <span class="n">rottenRound</span><span class="o">;</span>
            <span class="c1">//upper i-1, j</span>
            <span class="k">if</span><span class="o">(</span><span class="n">row</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
                <span class="n">fresh</span><span class="o">--;</span>
                <span class="n">q</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Pair</span> <span class="o">(</span><span class="k">new</span> <span class="kt">int</span> <span class="o">[]</span> <span class="o">{</span><span class="n">row</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="n">col</span><span class="o">},</span> <span class="n">rottenRound</span> <span class="o">+</span><span class="mi">1</span><span class="o">));</span>
            <span class="o">}</span>
            <span class="c1">//below i+1, j</span>
            <span class="k">if</span><span class="o">(</span><span class="n">row</span> <span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">grid</span><span class="o">.</span><span class="na">length</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
                <span class="n">fresh</span><span class="o">--;</span>
                <span class="n">q</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Pair</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">row</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">col</span><span class="o">},</span> <span class="n">rottenRound</span> <span class="o">+</span><span class="mi">1</span><span class="o">));</span>
            <span class="o">}</span>
            <span class="c1">//left i, j-1</span>
            <span class="k">if</span><span class="o">(</span><span class="n">col</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
                <span class="n">fresh</span><span class="o">--;</span>
                <span class="n">q</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Pair</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]</span> <span class="o">{</span><span class="n">row</span><span class="o">,</span> <span class="n">col</span> <span class="o">-</span> <span class="mi">1</span><span class="o">},</span> <span class="n">rottenRound</span> <span class="o">+</span><span class="mi">1</span><span class="o">));</span>
            <span class="o">}</span>
            <span class="c1">//right i, j+1</span>
            <span class="k">if</span><span class="o">(</span><span class="n">col</span> <span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">].</span><span class="na">length</span> <span class="o">&amp;&amp;</span> <span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">grid</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span> <span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
                <span class="n">fresh</span><span class="o">--;</span>
                <span class="n">q</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Pair</span><span class="o">(</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">row</span><span class="o">,</span> <span class="n">col</span> <span class="o">+</span> <span class="mi">1</span><span class="o">},</span> <span class="n">rottenRound</span><span class="o">+</span><span class="mi">1</span><span class="o">));</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">fresh</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span><span class="o">:</span><span class="n">round</span><span class="o">;</span>
    <span class="o">}</span>
</pre></table></code></div></div><p><strong>Space complexity</strong></p><p>O(n): 썩은 오렌지 개수만큼 큐를 사용한다네</p><p><strong>Time complexity</strong></p><p>O(n): 썩은 오렌지 하나가 들어갈 때마다 다른 오렌지들이 또 들어간다네.</p><hr /><p><strong>[Source code]</strong></p><p><a href="https://github.com/dayoungles/leet_code/commit/e534c94cdf70632680e42c016791a4f550dc7e08">github repo</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/leetcode/'>Leetcode</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Rotting Oranges - Dayoungle&url=https://dayoungles.github.io/posts/OrangeRotting/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Rotting Oranges - Dayoungle&u=https://dayoungles.github.io/posts/OrangeRotting/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Rotting Oranges - Dayoungle&url=https://dayoungles.github.io/posts/OrangeRotting/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink('', 'Link copied successfully!')" data-toggle="tooltip" data-placement="top" title="Copy link"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/migrated/">Funny funny fun fun, yak shaving</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/intellij/">IntelliJ</a> <a class="post-tag" href="/tags/jekyll/">jekyll</a> <a class="post-tag" href="/tags/jekyll/">Jekyll</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Repeated-string-match/"><div class="card-body"> <span class="timeago small" >Mar 26, 2020<i class="unloaded">2020-03-26T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Repeated String Match</h3><div class="text-muted small"><p> 오늘의 문제는 [References] Leet code problems [풀이] //PUT code Space complexity [여기 설명] Time complexity [여기 설명] [Source code] github repo [References] Leet code problems</p></div></div></a></div><div class="card"> <a href="/posts/longest-parlindrome/"><div class="card-body"> <span class="timeago small" >Mar 31, 2020<i class="unloaded">2020-03-31T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Longest Parlinedrome</h3><div class="text-muted small"><p> 지난 주의 문제가 이번 주까지 넘어왔다. 주어진 스트링에서 가장 긴 회문을 찾아서 잘라내어 리턴하는 것이 이 문제의 요구사항이었다. 직접 풀지 못하고 솔루션을 참고함. 예시: Input: "babad" Output: "bab" Note: "aba" 도 가능 오전에 문제풀이를 시작하고 혼자서 어영부영 답을 내지 못한 문제는 이번이 처음이었다. 그...</p></div></div></a></div><div class="card"> <a href="/posts/AddString/"><div class="card-body"> <span class="timeago small" >Apr 6, 2020<i class="unloaded">2020-04-06T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Add String</h3><div class="text-muted small"><p> 이건 오늘 푼 문제로 소소하게 버그를 많이 잡아야 했다. String으로 주어진 숫자를 더해서 다시 스트링으로 return 하라고 했다. 처음엔 예외조건을 유심히 보지 않고 “뭐여…?” 하고 Integer.parseInt와 String.valueOf를 이용해서 한줄로 돌렸다. 그리고 제출했더니 에러가 팡! 이유는, 하나의 스트링이 최대 5000개까지 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/longest-parlindrome/" class="btn btn-outline-primary" prompt="Older"><p>Longest Parlinedrome</p></a> <a href="/posts/AddString/" class="btn btn-outline-primary" prompt="Newer"><p>Add String</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/dayoungles">Dayoungle</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/intellij/">IntelliJ</a> <a class="post-tag" href="/tags/jekyll/">jekyll</a> <a class="post-tag" href="/tags/jekyll/">Jekyll</a> <a class="post-tag" href="/tags/leetcode/">Leetcode</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://dayoungles.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
